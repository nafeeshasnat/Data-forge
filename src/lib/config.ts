'use client';

import type { GenerationParams, Grade } from '@/lib/types';

export const SUBJECT_COUNT = 60;

export const defaultGradeScale: Record<Grade, number> = {
  "A+": 4.0,
  "A": 3.75,
  "A-": 3.5,
  "B+": 3.25,
  "B": 3.0,
  "B-": 2.75,
  "C+": 2.5,
  "C": 2.25,
  "D": 2.0,
  "F": 0.0,
};

export const defaultGenerationParams: GenerationParams = {
  numStudents: 1000,
  creditsPerSubject: 3,
  minCredit: 9,
  stdCredit: 12,
  maxCredit: 22,
  maxCreditImpact: 0.05,
  highPerformanceChance: 0.2,
  lowPerformanceChance: 0.1,
  preGradDecay: 0.9,
  preGradScoreInfluence: 0.2,
  exceptionPercentage: 0.1,
  attendanceImpact: 0.4,
  failChance: 0.1,
  perfectScorerChance: 0.8,
  gradeScale: defaultGradeScale,
  transitionShock: {
    hscMin: 4.2,
    maxSemesters: 3,
    drop: 0.55,
  },
};

export const performanceThresholds = {
  high: 3.5,
  mid: 2.0,
};

export const thesisBaselineProfiles: Record<string, GenerationParams> = {
  thesisBaseline: {
    numStudents: 5000,
    creditsPerSubject: 3,
    minCredit: 9,
    stdCredit: 15,
    maxCredit: 21,
    maxCreditImpact: 0.20,
    highPerformanceChance: 0.18,
    lowPerformanceChance: 0.12,
    preGradDecay: 0.75,
    preGradScoreInfluence: 0.10,
    exceptionPercentage: 0.30,
    attendanceImpact: 0.12,
    failChance: 0.1,
    perfectScorerChance: 0.8,
    gradeScale: defaultGradeScale,
    analysisPerformanceThresholds: performanceThresholds,
  },
  naturalDistribution: {
    numStudents: 20000,
    creditsPerSubject: 3,
    minCredit: 9,
    stdCredit: 15,
    maxCredit: 21,
    maxCreditImpact: 0.2,
    highPerformanceChance: 0.25,
    lowPerformanceChance: 0.08,
    preGradDecay: 0.75,
    preGradScoreInfluence: 0.10,
    exceptionPercentage: 0.18,
    attendanceImpact: 0.15,
    failChance: 0.05,
    perfectScorerChance: 0.8,
    gradeScale: defaultGradeScale,
    analysisPerformanceThresholds: performanceThresholds,
    cgpaTargetHistogram: [
      { cgpa: 0.05, students: 8 },
      { cgpa: 0.15, students: 12 },
      { cgpa: 0.25, students: 18 },
      { cgpa: 0.35, students: 28 },
      { cgpa: 0.45, students: 45 },
      { cgpa: 0.55, students: 70 },
      { cgpa: 0.65, students: 105 },
      { cgpa: 0.75, students: 150 },
      { cgpa: 0.85, students: 210 },
      { cgpa: 0.95, students: 290 },
      { cgpa: 1.05, students: 380 },
      { cgpa: 1.15, students: 470 },
      { cgpa: 1.25, students: 560 },
      { cgpa: 1.35, students: 650 },
      { cgpa: 1.45, students: 740 },
      { cgpa: 1.55, students: 820 },
      { cgpa: 1.65, students: 900 },
      { cgpa: 1.75, students: 980 },
      { cgpa: 1.85, students: 1040 },
      { cgpa: 1.95, students: 1080 },
      { cgpa: 2.05, students: 1120 },
      { cgpa: 2.15, students: 1160 },
      { cgpa: 2.25, students: 1200 },
      { cgpa: 2.35, students: 1240 },
      { cgpa: 2.45, students: 1270 },
      { cgpa: 2.55, students: 1290 },
      { cgpa: 2.65, students: 1300 },
      { cgpa: 2.75, students: 1280 },
      { cgpa: 2.85, students: 1240 },
      { cgpa: 2.95, students: 1180 },
      { cgpa: 3.05, students: 1080 },
      { cgpa: 3.15, students: 950 },
      { cgpa: 3.25, students: 800 },
      { cgpa: 3.35, students: 640 },
      { cgpa: 3.45, students: 480 },
      { cgpa: 3.55, students: 330 },
      { cgpa: 3.65, students: 210 },
      { cgpa: 3.75, students: 130 },
      { cgpa: 3.85, students: 70 },
      { cgpa: 3.95, students: 25 },
    ],
    cgpaHighTailThreshold: 3.3,
    cgpaHighTailBoost: 0.15,
    cgpaHighTailWeight: 1.25,
  },
};

export const thesisBaselineParams: GenerationParams = thesisBaselineProfiles.thesisBaseline;
